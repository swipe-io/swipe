//+build !swipe

// Code generated by Swipe v2.0.0-rc4. DO NOT EDIT.

package app

import (
	"context"
	"time"

	"github.com/go-kit/kit/log"
)

type AppInterfaceLoggingMiddleware struct {
	next   AppInterface
	logger log.Logger
}

func (s *AppInterfaceLoggingMiddleware) Create(ctx context.Context, newData Data, name string, data []byte, date time.Time) error {
	var (
		err error
	)
	defer func(now time.Time) {
		logErr := err
		if le, ok := err.(interface{ LogError() error }); ok {
			logErr = le.LogError()
		}
		s.logger.Log("method", "Create", "took", time.Since(now), "name", name, "data", len(data), "date", date, "err", logErr)
	}(time.Now())
	err = s.next.Create(ctx, newData, name, data, date)
	return err
}

func (s *AppInterfaceLoggingMiddleware) Delete(ctx context.Context, id uint) (string, string, error) {
	var (
		a   string
		b   string
		err error
	)
	a, b, err = s.next.Delete(ctx, id)
	return a, b, err
}

func (s *AppInterfaceLoggingMiddleware) Get(ctx context.Context, id int, name string, fname string, price float32, n int, b int, cc int) (User, error) {
	var (
		result User
		err    error
	)
	defer func(now time.Time) {
		logErr := err
		if le, ok := err.(interface{ LogError() error }); ok {
			logErr = le.LogError()
		}
		s.logger.Log("method", "Get", "took", time.Since(now), "id", id, "name", name, "fname", fname, "price", price, "n", n, "b", b, "cc", cc, "result", result.LogParams(), "err", logErr)
	}(time.Now())
	result, err = s.next.Get(ctx, id, name, fname, price, n, b, cc)
	return result, err
}

func (s *AppInterfaceLoggingMiddleware) GetAll(ctx context.Context, members Members) ([]*User, error) {
	var (
		result []*User
		err    error
	)
	result, err = s.next.GetAll(ctx, members)
	return result, err
}

func (s *AppInterfaceLoggingMiddleware) Start(ctx context.Context) error {
	var (
		err error
	)
	err = s.next.Start(ctx)
	return err
}

func (s *AppInterfaceLoggingMiddleware) TestMethod(data map[string]interface{}, ss interface{}) (map[string]map[int][]string, error) {
	var (
		result map[string]map[int][]string
		err    error
	)
	result, err = s.next.TestMethod(data, ss)
	return result, err
}

func (s *AppInterfaceLoggingMiddleware) TestMethod2(ctx context.Context, ns string, utype string, user string, restype string, resource string, permission string) error {
	var (
		err error
	)
	err = s.next.TestMethod2(ctx, ns, utype, user, restype, resource, permission)
	return err
}

func (s *AppInterfaceLoggingMiddleware) TestMethodOptionals(ctx context.Context, ns string) error {
	var (
		err error
	)
	err = s.next.TestMethodOptionals(ctx, ns)
	return err
}

func NewLoggingAppInterfaceMiddleware(s AppInterface, logger log.Logger) AppInterface {
	return &AppInterfaceLoggingMiddleware{next: s, logger: logger}
}
